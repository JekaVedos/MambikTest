{"version":3,"sources":["Component/Messages/Message.module.scss","Component/Messages/Message/Message.js","Component/Messages/Dialog/Dialog.js","Component/Messages/Messages.js","Component/Messages/MessagesContainer.js"],"names":["module","exports","Message","props","className","s","message_cont","message_user_logo","src","imgMess","alt","message","Dialog","path","id","to","mess_user","mess_user_logo","mess_user_name","name","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","mess_input_cont","Field","component","Input","validate","required","placeholder","mess_input","Messages","state","DialogsElem","MessagePage","DialogsD","map","item","index","MessageElem","MessageD","chatContainer","React","createRef","scrollToMyRef","scroll","current","scrollHeight","clientHeight","scrollTo","mess_container","mess_users","mess_messages_cont","ref","messages_container","values","sendMessage","newMessValue","compose","connect","dispatch","sendMessageActionCreator","type","updMessText"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,eAAiB,gCAAgC,WAAa,4BAA4B,UAAY,2BAA2B,eAAiB,gCAAgC,mBAAqB,oCAAoC,mBAAqB,oCAAoC,aAAe,8BAA8B,kBAAoB,mCAAmC,WAAa,4BAA4B,gBAAkB,mC,sGCgBtcC,EAbC,SAACC,GACd,OACG,qBAAIC,UAAWC,IAAEC,aAAjB,UACG,qBAAKF,UAAWC,IAAEE,kBAAlB,SACG,qBAAKC,IAAKC,IAASC,IAAI,OAE1B,qBAAKN,UAAU,eAAf,SACG,4BAAID,EAAMQ,gB,QCSPC,EAhBA,SAACT,GACb,IAAIU,EAAI,oBAAgBV,EAAMW,IAC9B,OACG,cAAC,IAAD,CAASC,GAAIF,EAAb,SACG,sBAAKT,UAAWC,IAAEW,UAAlB,UACG,qBAAKZ,UAAWC,IAAEY,eAAlB,SACG,qBAAKT,IAAKC,IAASC,IAAI,OAE1B,qBAAKN,UAAWC,IAAEa,eAAlB,SACG,6BAAKf,EAAMgB,e,kCC6BpBC,EAAcC,YAAiB,IAgB/BC,EAAsBC,YAAU,CACnCC,KAAM,wBADmBD,EAdL,SAACpB,GACrB,OACG,sBAAMsB,SAAUtB,EAAMuB,aAAtB,SACG,sBAAKtB,UAAWC,IAAEsB,gBAAlB,UACG,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAOC,SAAU,CAACC,IAAUZ,GAAcD,KAAM,eAAgBc,YAAa,qBACxF7B,UAAWC,IAAE6B,aACpB,kDAYGC,EAtDE,SAAChC,EAAOiC,GAEtB,IAAIC,EAAclC,EAAMmC,YAAYC,SAASC,KAAI,SAACC,EAAMC,GAAP,OAAiB,cAAC,EAAD,CAAoB5B,GAAI2B,EAAK3B,GACrBK,KAAMsB,EAAKtB,MADNuB,MAG3EC,EAAcxC,EAAMmC,YAAYM,SAASJ,KAAI,SAACC,EAAMC,GAAP,OAAiB,cAAC,EAAD,CAAqB/B,QAAS8B,EAAK9B,SAArB+B,MAE5EG,EAAgBC,IAAMC,YAOtBC,EAAgB,WACjB,IAAMC,EAASJ,EAAcK,QAAQC,aAAeN,EAAcK,QAAQE,aAC1EP,EAAcK,QAAQG,SAAS,EAAGJ,IAGrC,OACG,sBAAK7C,UAAWC,IAAEiD,eAAlB,UACG,qBAAKlD,UAAWC,IAAEkD,WAAlB,SACIlB,IAEJ,sBAAKjC,UAAWC,IAAEmD,mBAAlB,UACG,oBAAIC,IAAKZ,EAAezC,UAAWC,IAAEqD,mBAArC,SACIf,IAEJ,cAACrB,EAAD,CAAqBG,SAnBV,SAACkC,GAClBxD,EAAMyD,YAAYD,EAAOE,cACzBb,c,yBCESc,4BACZC,aAhBmB,SAAC3B,GACpB,MAAO,CACJE,YAAaF,EAAME,gBAIA,SAAC0B,GACvB,MAAO,CACJJ,YAAa,SAACC,GACXG,EAASC,YAAyBJ,IAClCG,EAAS,CAACE,KAAM,0BAA2BC,YAAa,UAKlDL,CAGb3B","file":"static/js/4.28c5a4df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mess_container\":\"Message_mess_container__1vUcx\",\"mess_users\":\"Message_mess_users__1nh9b\",\"mess_user\":\"Message_mess_user__MiJGL\",\"mess_user_logo\":\"Message_mess_user_logo__Qm2Sz\",\"mess_messages_cont\":\"Message_mess_messages_cont__2fAud\",\"messages_container\":\"Message_messages_container__aYRyC\",\"message_cont\":\"Message_message_cont__2v-jA\",\"message_user_logo\":\"Message_message_user_logo__1IUGN\",\"mess_input\":\"Message_mess_input__7wieD\",\"mess_input_cont\":\"Message_mess_input_cont__3Wp1w\"};","import s from \"../Message.module.scss\";\nimport imgMess from \"../../../img/squishi-round.jpg\";\nimport React from \"react\";\n\nconst Message = (props) => {\n   return (\n      <li className={s.message_cont}>\n         <div className={s.message_user_logo}>\n            <img src={imgMess} alt=\"\"/>\n         </div>\n         <div className=\"message_text\">\n            <p>{props.message}</p>\n         </div>\n      </li>\n   )\n}\n\nexport default Message;","import {NavLink} from \"react-router-dom\";\nimport s from \"../Message.module.scss\";\nimport imgMess from \"../../../img/squishi-round.jpg\";\n\nconst Dialog = (props) => {\n   let path = `/messages/${props.id}`\n   return (\n      <NavLink to={path}>\n         <div className={s.mess_user}>\n            <div className={s.mess_user_logo}>\n               <img src={imgMess} alt=\"\"/>\n            </div>\n            <div className={s.mess_user_name}>\n               <h1>{props.name}</h1>\n            </div>\n         </div>\n      </NavLink>\n   )\n}\n\nexport default Dialog","import React from 'react';\nimport s from './Message.module.scss'\nimport Message from './Message/Message'\nimport Dialog from \"./Dialog/Dialog\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../common/FormsControls/FormsControls\";\nimport {maxLengthCreator, required} from \"../../utils/validators\";\n\nconst Messages = (props, state) => {\n\n   let DialogsElem = props.MessagePage.DialogsD.map((item, index) => <Dialog key={index} id={item.id}\n                                                                             name={item.name}/>)\n\n   let MessageElem = props.MessagePage.MessageD.map((item, index) => <Message key={index} message={item.message}/>)\n\n   let chatContainer = React.createRef();\n\n   let addNewMessage = (values) => {\n      props.sendMessage(values.newMessValue)\n      scrollToMyRef()\n   }\n\n   let scrollToMyRef = () => {\n      const scroll = chatContainer.current.scrollHeight - chatContainer.current.clientHeight;\n      chatContainer.current.scrollTo(0, scroll);\n   };\n\n   return (\n      <div className={s.mess_container}>\n         <div className={s.mess_users}>\n            {DialogsElem}\n         </div>\n         <div className={s.mess_messages_cont}>\n            <ul ref={chatContainer} className={s.messages_container}>\n               {MessageElem}\n            </ul>\n            <AddMessageFormRedux onSubmit={addNewMessage}/>\n         </div>\n      </div>\n   )\n}\n\nconst maxLength50 = maxLengthCreator(50)\n\nconst AddMessageForm = (props) => {\n   return (\n      <form onSubmit={props.handleSubmit}>\n         <div className={s.mess_input_cont}>\n            <Field component={Input} validate={[required, maxLength50]} name={'newMessValue'} placeholder={'enter your message'}\n                   className={s.mess_input}/>\n            <button>\n               Send\n            </button>\n         </div>\n      </form>\n   )\n}\n\nconst AddMessageFormRedux = reduxForm({\n   form: 'dialogAddMessageForm'\n})(AddMessageForm)\n\nexport default Messages;\n\n\n\n","import {sendMessageActionCreator} from \"../../Redux/messageReducer\";\nimport Messages from \"./Messages\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nlet mapStateToProps = (state) => {\n   return {\n      MessagePage: state.MessagePage\n   }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n   return {\n      sendMessage: (newMessValue) => {\n         dispatch(sendMessageActionCreator(newMessValue));\n         dispatch({type: 'UPDATE-NEW-MESSAGE-TEXT', updMessText: ''});\n      }\n   }\n}\n\nexport default compose(\n   connect(mapStateToProps, mapDispatchToProps),\n   // withAuthRedirect\n)(Messages);\n\n\n\n"],"sourceRoot":""}